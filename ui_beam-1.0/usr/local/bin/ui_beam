#!/bin/bash

if [ -z "$1" ];then
  echo "Usage: $0 <filename>"
  exit 1
fi

sed -i -E '
  /signed|unsigned/!{
    s/\b(short|short +int|long +long|long +long +int|long|long +int|int) +([a-zA-Z_][a-zA-Z0-9_]*( *= *[^;]+)?;)/unsigned \1 \2/g
  }
' "$1"

cat << EOF
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::............................................
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::             .                  .                          .               .
::::::::::::::::::::::::::::::-----------::::::--::::::::::::::::-::    .               .                        .                .                   .  
:::::::::::::::::::::::::----::::::--:-----------:::::::::-:::::--::                                                               .               .
:::---::::::::::::::::---:::::-:::::::-----------:::::::-----::--::                     .               .                 .               .                
-------::----::::-------:::::::::::::::::::::::::--::::--:::----::          .                  .                               .               .
-----------------------::::::-:-:::::::::::-::::::-------:::---::-::                .               .                  .                                . 
----------------------::::---:-=-::::::::::-::::-::-----:::-:-----::        .                                                      .               .
----------------::::--------:-----------:--=-::-=--:---::---------::                  .               .        .           .                  .                  
------------=-:::::-----------------------------=-----------------::                                                           .                .
---------------::::--------------:--------=-----------------------::     .               .                        .                     .           
-------------=-----------==---:----::::::-+++=+=--==-=-=----------::                         .                                  .               .
----------==-====-=-----==-===---------::=++++==+=------=---------::=====================人人人人人人人人人人人人人===================
-----------===----===---==--==++=----------=+++-++==-----==-------::============== ＿人人                         人人人＿==================  ＿人人人人人人人人＿
=---------=----===========--===+++=-------======------------------::============== ＞       う   い   ビ   ー   ム        ＜＞==============   ＞     $1    ＜
===-----=-----====-=++====-----------====---------====------:-=---::============= ＞Y^Y^Y                       ￣Y^Y^Y^Y￣================  ￣Y^Y^Y^Y^Y^Y^Y^Y￣
====---==--======---===-==---------=----=--------====-=----::-=---::====================^Y^Y^YY^Y^Y^Y^Y^Y^YY^Y^Y^Y==================               .
++===--======+=-------===----------======-------=======-------=---::              .              .         .               .          .               .
++=+=========+=-=--=-=+**++++=+=------------===========-------=---::     .               .                        .               .               .  .
++++++=====+=========+=======+**+=======**+=======--===-------=-==::              .               .                                 .               .
+++====+===-----============+****++++=-+***=====-----------======-::                                       .               .            .               .
++++======----------=======+**********+****+===-----==========----::                      .               .                         .               .
++++======-----------===+++****************+======================::    .               .                       .               .    .               .
+++++++++++=========++************##*+*****=======================::             .               .                                    .               .
+++++++++++++++=======*****##****###*+*#**+=======================::             .      .               .              .        
++++++++++++++++===+*##############******+========================::                                                               .               .
+++++++++++++++++**##################**++=========================::::::::::::::::::::::............................................
EOF
